from ctypes import *
libc=CDLL("msvcrt")
libc.srand(0x1234)

with open("./out.enc","rb") as f:
    with open("flag.txt",'wb') as q:
        for i in b"".join(f.readlines()):
            v7 = libc.rand()
            v6 = libc.rand()
            q.write(bytes([( (int(i) ^ libc.rand()) - v7 + v6) & 0xff ]))